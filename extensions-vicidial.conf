; WARNING- THIS FILE IS AUTO-GENERATED BY VICIDIAL, ANY EDITS YOU MAKE WILL BE LOST
TRUNKloop = IAX2/ASTloop:test@127.0.0.1:40569
TRUNKblind = IAX2/ASTblind:test@127.0.0.1:41569
TRUNKplay = IAX2/ASTplay:test@127.0.0.1:42569
TESTSIPTRUNK = SIP/testcarrier



; BRB-menu
[BRB]
exten => s,1,Answer
exten => s,n,AGI(agi-VDAD_inbound_calltime_check.agi,CALLMENU-----YES-----BRB-----BRB_Time-----HANGUP-----Off-Time----------NO)
exten => s,n,Set(INVCOUNT=0) 
exten => s,n,Background(New_IVR)
exten => s,n,WaitExten(10)
exten => s,n,Background(New_IVR)
exten => s,n,WaitExten(10)

; For English 
exten => 1,1,AGI(agi-VDAD_ALL_inbound.agi,CID-----LB-----English-----BRB--------------------998-----1-----INBOUND------------------------------)
exten => 1,2,Hangup()
; For French
exten => 2,1,AGI(agi-VDAD_ALL_inbound.agi,CID-----LB-----French-----BRB--------------------998-----1-----INBOUND------------------------------)
exten => 2,2,Hangup()
; Lingala
exten => 3,1,AGI(agi-VDAD_ALL_inbound.agi,CID-----LB-----Lingala-----BRB--------------------998-----1-----TESTCAMP------------------------------)
exten => 3,2,Hangup()
; Tshiluba 
exten => 4,1,AGI(agi-VDAD_ALL_inbound.agi,CID-----LB-----Tshiluba-----BRB--------------------998-----1-----TESTCAMP------------------------------)
exten => 4,2,Hangup()
; Kikongo 
exten => 5,1,AGI(agi-VDAD_ALL_inbound.agi,CID-----LB-----Kikongo-----BRB--------------------998-----1-----TESTCAMP------------------------------)
exten => 5,2,Hangup()
; Swahili 
exten => 6,1,AGI(agi-VDAD_ALL_inbound.agi,CID-----LB-----Swahili-----BRB--------------------998-----1-----TESTCAMP------------------------------)
exten => 6,2,Hangup()

exten => t,1,Goto(s,4)
exten => t,n,Hangup()
exten => i,1,Goto(s,4)
exten => i,n,Hangup()
; hangup
exten => h,1,AGI(agi://127.0.0.1:4577/call_log--HVcauses--PRI-----NODEBUG-----${HANGUPCAUSE}-----${DIALSTATUS}-----${DIALEDTIME}-----${ANSWEREDTIME})


; agent phones restricted to only internal extensions
[default---agent]
exten => s,1,Answer
exten => s,n,AGI(agi-VDAD_inbound_calltime_check.agi,-----NO-----default---agent-------------------------NO)
exten => s,n,Set(INVCOUNT=0) 
exten => s,n,Background(sip-silence)
exten => s,n,WaitExten(20)


; hangup
exten => t,1,Playback(vm-goodbye)
exten => t,n,Hangup()
exten => i,1,Goto(s,4)
exten => i,n,Hangup()
; hangup
exten => h,1,AGI(agi://127.0.0.1:4577/call_log--HVcauses--PRI-----NODEBUG-----${HANGUPCAUSE}-----${DIALSTATUS}-----${DIALEDTIME}-----${ANSWEREDTIME})

; custom dialplan entries
include => vicidial-auto-internal
include => vicidial-auto-phones




; logging of all outbound calls from agent phones
[defaultlog]
exten => s,1,Answer
exten => s,n,AGI(agi-VDAD_inbound_calltime_check.agi,-----NO-----defaultlog-------------------------NO)
exten => s,n,Set(INVCOUNT=0) 
exten => s,n,Background(sip-silence)
exten => s,n,WaitExten(20)


; hangup
exten => t,1,Playback(vm-goodbye)
exten => t,n,Hangup()
exten => i,1,Goto(s,4)
exten => i,n,Hangup()
; hangup
exten => h,1,AGI(agi://127.0.0.1:4577/call_log--HVcauses--PRI-----NODEBUG-----${HANGUPCAUSE}-----${DIALSTATUS}-----${DIALEDTIME}-----${ANSWEREDTIME})

; custom dialplan entries
exten => _X.,1,AGI(agi-NVA_recording.agi,BOTH------Y---Y---Y)
exten => _X.,n,Goto(default,${EXTEN},1)



; ECO BANK
[ECOBANK]
exten => s,1,Answer
exten => s,n,AGI(agi-VDAD_inbound_calltime_check.agi,CALLMENU-----YES-----ECOBANK-------------------------NO)
exten => s,n,Set(INVCOUNT=0) 
exten => s,n,Background(validated)
exten => s,n,WaitExten(10)
exten => s,n,Background(validated)
exten => s,n,WaitExten(10)
exten => s,n,Background(validated)
exten => s,n,WaitExten(10)
exten => s,n,Background(validated)
exten => s,n,WaitExten(10)

exten => 1,1,AGI(agi-VDAD_ALL_inbound.agi,CIDLOOKUP-----LB-----French-----ECOBANK--------------------998-----1-----ECOBank------------------------------)
exten => 1,2,Hangup()
exten => 2,1,AGI(agi-VDAD_ALL_inbound.agi,CIDLOOKUP-----LB-----English-----ECOBANK--------------------998-----1-----ECOBank------------------------------)
exten => 2,2,Hangup()
exten => 3,1,AGI(agi-VDAD_ALL_inbound.agi,CIDLOOKUP-----LB-----Lingala-----ECOBANK--------------------998-----1-----ECOBank------------------------------)
exten => 3,2,Hangup()
exten => 4,1,AGI(agi-VDAD_ALL_inbound.agi,CIDLOOKUP-----LB-----Tshiluba-----ECOBANK--------------------998-----1-----ECOBank------------------------------)
exten => 4,2,Hangup()
exten => 5,1,AGI(agi-VDAD_ALL_inbound.agi,CIDLOOKUP-----LB-----Kikongo-----ECOBANK--------------------998-----1-----ECOBank------------------------------)
exten => 5,2,Hangup()
exten => 6,1,AGI(agi-VDAD_ALL_inbound.agi,CIDLOOKUP-----LB-----Swahili-----ECOBANK--------------------998-----1-----ECOBank------------------------------)
exten => 6,2,Hangup()
; Forward to Bank
exten => TIMECHECK,1,Goto(default,974990902257,1)
exten => TIMECHECK,2,Hangup()

exten => t,1,Goto(s,4)
exten => t,n,Hangup()
exten => i,1,Goto(s,4)
exten => i,n,Hangup()
; hangup
exten => h,1,AGI(agi://127.0.0.1:4577/call_log--HVcauses--PRI-----NODEBUG-----${HANGUPCAUSE}-----${DIALSTATUS}-----${DIALEDTIME}-----${ANSWEREDTIME})


; WelCome IVR MEENU
[FLORYWELCOME]
exten => s,1,Answer
exten => s,n,AGI(agi-VDAD_inbound_calltime_check.agi,CALLMENU-----YES-----FLORYWELCOME-------------------------NO)
exten => s,n,Set(INVCOUNT=0) 
exten => s,n,Background(Flory)
exten => s,n,WaitExten(10)
exten => s,n,Background(Flory)
exten => s,n,WaitExten(10)

; For English 
exten => 1,1,AGI(agi-VDAD_ALL_inbound.agi,CID-----LB-----INBBANK-----FLORYWELCOME--------------------998-----1-----INBOUND------------------------------)
exten => 1,2,Hangup()
; For French
exten => 2,1,AGI(agi-VDAD_ALL_inbound.agi,CID-----LB-----INBBANK-----FLORYWELCOME--------------------998-----1-----INBOUND------------------------------)
exten => 2,2,Hangup()

exten => t,1,Goto(s,4)
exten => t,n,Hangup()
exten => i,1,Goto(s,4)
exten => i,n,Hangup()
; hangup
exten => h,1,AGI(agi://127.0.0.1:4577/call_log--HVcauses--PRI-----NODEBUG-----${HANGUPCAUSE}-----${DIALSTATUS}-----${DIALEDTIME}-----${ANSWEREDTIME})


; FrenchL2
[French]
exten => s,1,Answer
exten => s,n,AGI(agi-VDAD_inbound_calltime_check.agi,CALLMENU-----YES-----French-------------------------NO)
exten => s,n,Set(INVCOUNT=0) 
exten => s,n,Background(French_level_2)
exten => s,n,WaitExten(10)

exten => 1,1,Goto(FrenchL3,s,1)
exten => 1,2,Hangup()
exten => 2,1,Goto(FrenchL32,s,1)
exten => 2,2,Hangup()
exten => 3,1,Goto(FrenchL33,s,1)
exten => 3,2,Hangup()
exten => 4,1,AGI(agi-VDAD_ALL_inbound.agi,CID-----LB-----French-----French--------------------998-----1-----TESTCAMP------------------------------)
exten => 4,2,Hangup()

exten => t,1,Goto(s,4)
exten => t,n,Hangup()
exten => i,1,Goto(s,4)
exten => i,n,Hangup()
; hangup
exten => h,1,AGI(agi://127.0.0.1:4577/call_log--HVcauses--PRI-----NODEBUG-----${HANGUPCAUSE}-----${DIALSTATUS}-----${DIALEDTIME}-----${ANSWEREDTIME})


; FrenchL3
[FrenchL3]
exten => s,1,Answer
exten => s,n,AGI(agi-VDAD_inbound_calltime_check.agi,CALLMENU-----YES-----FrenchL3-------------------------NO)
exten => s,n,Set(INVCOUNT=0) 
exten => s,n,Background(French3_1)
exten => s,n,WaitExten(10)


exten => t,1,Goto(s,4)
exten => t,n,Hangup()
exten => i,1,Goto(s,4)
exten => i,n,Hangup()
; hangup
exten => h,1,AGI(agi://127.0.0.1:4577/call_log--HVcauses--PRI-----NODEBUG-----${HANGUPCAUSE}-----${DIALSTATUS}-----${DIALEDTIME}-----${ANSWEREDTIME})


; FrenchL32
[FrenchL32]
exten => s,1,Answer
exten => s,n,AGI(agi-VDAD_inbound_calltime_check.agi,CALLMENU-----YES-----FrenchL32-------------------------NO)
exten => s,n,Set(INVCOUNT=0) 
exten => s,n,Background(French3_2)
exten => s,n,WaitExten(10)


exten => t,1,Goto(s,4)
exten => t,n,Hangup()
exten => i,1,Goto(s,4)
exten => i,n,Hangup()
; hangup
exten => h,1,AGI(agi://127.0.0.1:4577/call_log--HVcauses--PRI-----NODEBUG-----${HANGUPCAUSE}-----${DIALSTATUS}-----${DIALEDTIME}-----${ANSWEREDTIME})


; FrenchL33
[FrenchL33]
exten => s,1,Answer
exten => s,n,AGI(agi-VDAD_inbound_calltime_check.agi,CALLMENU-----YES-----FrenchL33-------------------------NO)
exten => s,n,Set(INVCOUNT=0) 
exten => s,n,Background(French3_3)
exten => s,n,WaitExten(10)


exten => t,1,Goto(s,4)
exten => t,n,Hangup()
exten => i,1,Goto(s,4)
exten => i,n,Hangup()
; hangup
exten => h,1,AGI(agi://127.0.0.1:4577/call_log--HVcauses--PRI-----NODEBUG-----${HANGUPCAUSE}-----${DIALSTATUS}-----${DIALEDTIME}-----${ANSWEREDTIME})


; KikongoL2
[Kikongo]
exten => s,1,Answer
exten => s,n,AGI(agi-VDAD_inbound_calltime_check.agi,CALLMENU-----YES-----Kikongo-------------------------NO)
exten => s,n,Set(INVCOUNT=0) 
exten => s,n,Background(Kikongo_Level_2)
exten => s,n,WaitExten(10)

exten => 1,1,Goto(KikongoL31,s,1)
exten => 1,2,Hangup()
exten => 2,1,Goto(KikongoL32,s,1)
exten => 2,2,Hangup()
exten => 3,1,Goto(KikongoL33,s,1)
exten => 3,2,Hangup()
exten => 4,1,AGI(agi-VDAD_ALL_inbound.agi,CID-----LB-----Kikongo-----Kikongo--------------------998-----1-----TESTCAMP------------------------------)
exten => 4,2,Hangup()

exten => t,1,Goto(s,4)
exten => t,n,Hangup()
exten => i,1,Goto(s,4)
exten => i,n,Hangup()
; hangup
exten => h,1,AGI(agi://127.0.0.1:4577/call_log--HVcauses--PRI-----NODEBUG-----${HANGUPCAUSE}-----${DIALSTATUS}-----${DIALEDTIME}-----${ANSWEREDTIME})


; KikongoL31
[KikongoL31]
exten => s,1,Answer
exten => s,n,AGI(agi-VDAD_inbound_calltime_check.agi,CALLMENU-----YES-----KikongoL31-------------------------NO)
exten => s,n,Set(INVCOUNT=0) 
exten => s,n,Background(Kikongo3_1)
exten => s,n,WaitExten(10)


exten => t,1,Goto(s,4)
exten => t,n,Hangup()
exten => i,1,Goto(s,4)
exten => i,n,Hangup()
; hangup
exten => h,1,AGI(agi://127.0.0.1:4577/call_log--HVcauses--PRI-----NODEBUG-----${HANGUPCAUSE}-----${DIALSTATUS}-----${DIALEDTIME}-----${ANSWEREDTIME})


; KikongoL32
[KikongoL32]
exten => s,1,Answer
exten => s,n,AGI(agi-VDAD_inbound_calltime_check.agi,CALLMENU-----YES-----KikongoL32-------------------------NO)
exten => s,n,Set(INVCOUNT=0) 
exten => s,n,Background(Kikongo3_2)
exten => s,n,WaitExten(10)


exten => t,1,Goto(s,4)
exten => t,n,Hangup()
exten => i,1,Goto(s,4)
exten => i,n,Hangup()
; hangup
exten => h,1,AGI(agi://127.0.0.1:4577/call_log--HVcauses--PRI-----NODEBUG-----${HANGUPCAUSE}-----${DIALSTATUS}-----${DIALEDTIME}-----${ANSWEREDTIME})


; KikongoL33
[KikongoL33]
exten => s,1,Answer
exten => s,n,AGI(agi-VDAD_inbound_calltime_check.agi,CALLMENU-----YES-----KikongoL33-------------------------NO)
exten => s,n,Set(INVCOUNT=0) 
exten => s,n,Background(Kikongo3_3)
exten => s,n,WaitExten(10)


exten => t,1,Goto(s,4)
exten => t,n,Hangup()
exten => i,1,Goto(s,4)
exten => i,n,Hangup()
; hangup
exten => h,1,AGI(agi://127.0.0.1:4577/call_log--HVcauses--PRI-----NODEBUG-----${HANGUPCAUSE}-----${DIALSTATUS}-----${DIALEDTIME}-----${ANSWEREDTIME})


; LingalaL2
[Lingala]
exten => s,1,Answer
exten => s,n,AGI(agi-VDAD_inbound_calltime_check.agi,CALLMENU-----YES-----Lingala-------------------------NO)
exten => s,n,Set(INVCOUNT=0) 
exten => s,n,Background(Lingala_Level_2)
exten => s,n,WaitExten(10)

exten => 1,1,Goto(LingalaL31,s,1)
exten => 1,2,Hangup()
exten => 2,1,Goto(LingalaL32,s,1)
exten => 2,2,Hangup()
exten => 3,1,Goto(LingalaL33,s,1)
exten => 3,2,Hangup()
exten => 4,1,AGI(agi-VDAD_ALL_inbound.agi,CID-----LB-----Lingala-----Lingala--------------------998-----1-----TESTCAMP------------------------------)
exten => 4,2,Hangup()

exten => t,1,Goto(s,4)
exten => t,n,Hangup()
exten => i,1,Goto(s,4)
exten => i,n,Hangup()
; hangup
exten => h,1,AGI(agi://127.0.0.1:4577/call_log--HVcauses--PRI-----NODEBUG-----${HANGUPCAUSE}-----${DIALSTATUS}-----${DIALEDTIME}-----${ANSWEREDTIME})


; LingalaL31
[LingalaL31]
exten => s,1,Answer
exten => s,n,AGI(agi-VDAD_inbound_calltime_check.agi,CALLMENU-----YES-----LingalaL31-------------------------NO)
exten => s,n,Set(INVCOUNT=0) 
exten => s,n,Background(Lingala3_1)
exten => s,n,WaitExten(10)


exten => t,1,Goto(s,4)
exten => t,n,Hangup()
exten => i,1,Goto(s,4)
exten => i,n,Hangup()
; hangup
exten => h,1,AGI(agi://127.0.0.1:4577/call_log--HVcauses--PRI-----NODEBUG-----${HANGUPCAUSE}-----${DIALSTATUS}-----${DIALEDTIME}-----${ANSWEREDTIME})


; LingalaL32
[LingalaL32]
exten => s,1,Answer
exten => s,n,AGI(agi-VDAD_inbound_calltime_check.agi,CALLMENU-----YES-----LingalaL32-------------------------NO)
exten => s,n,Set(INVCOUNT=0) 
exten => s,n,Background(Lingala3_2)
exten => s,n,WaitExten(10)


exten => t,1,Goto(s,4)
exten => t,n,Hangup()
exten => i,1,Goto(s,4)
exten => i,n,Hangup()
; hangup
exten => h,1,AGI(agi://127.0.0.1:4577/call_log--HVcauses--PRI-----NODEBUG-----${HANGUPCAUSE}-----${DIALSTATUS}-----${DIALEDTIME}-----${ANSWEREDTIME})


; LingalaL33
[LingalaL33]
exten => s,1,Answer
exten => s,n,AGI(agi-VDAD_inbound_calltime_check.agi,CALLMENU-----YES-----LingalaL33-------------------------NO)
exten => s,n,Set(INVCOUNT=0) 
exten => s,n,Background(Lingala3_3)
exten => s,n,WaitExten(10)


exten => t,1,Goto(s,4)
exten => t,n,Hangup()
exten => i,1,Goto(s,4)
exten => i,n,Hangup()
; hangup
exten => h,1,AGI(agi://127.0.0.1:4577/call_log--HVcauses--PRI-----NODEBUG-----${HANGUPCAUSE}-----${DIALSTATUS}-----${DIALEDTIME}-----${ANSWEREDTIME})


; multi_language_ivr
[multilanguage]
exten => s,1,Answer
exten => s,n,AGI(agi-VDAD_inbound_calltime_check.agi,CALLMENU-----YES-----multilanguage-------------------------NO)
exten => s,n,Set(INVCOUNT=0) 
exten => s,n,Background(Introduction_Level_1)
exten => s,n,WaitExten(10)

exten => 1,1,Goto(French,s,1)
exten => 1,2,Hangup()
exten => 2,1,Goto(Swahili,s,1)
exten => 2,2,Hangup()
exten => 3,1,Goto(Lingala,s,1)
exten => 3,2,Hangup()
exten => 4,1,Goto(Kikongo,s,1)
exten => 4,2,Hangup()
exten => 5,1,Goto(Tshiluba,s,1)
exten => 5,2,Hangup()

exten => t,1,Goto(s,4)
exten => t,n,Hangup()
exten => i,1,Goto(s,4)
exten => i,n,Hangup()
; hangup
exten => h,1,AGI(agi://127.0.0.1:4577/call_log--HVcauses--PRI-----NODEBUG-----${HANGUPCAUSE}-----${DIALSTATUS}-----${DIALEDTIME}-----${ANSWEREDTIME})


; SwahiliL2
[Swahili]
exten => s,1,Answer
exten => s,n,AGI(agi-VDAD_inbound_calltime_check.agi,CALLMENU-----YES-----Swahili-------------------------NO)
exten => s,n,Set(INVCOUNT=0) 
exten => s,n,Background(Swahili_level_2)
exten => s,n,WaitExten(10)

exten => 1,1,Goto(SwahiliL31,s,1)
exten => 1,2,Hangup()
exten => 2,1,Goto(SwahiliL32,s,1)
exten => 2,2,Hangup()
exten => 3,1,Goto(SwahiliL33,s,1)
exten => 3,2,Hangup()
exten => 4,1,AGI(agi-VDAD_ALL_inbound.agi,CID-----LB-----Swahili-----Swahili--------------------998-----1-----TESTCAMP------------------------------)
exten => 4,2,Hangup()

exten => t,1,Goto(s,4)
exten => t,n,Hangup()
exten => i,1,Goto(s,4)
exten => i,n,Hangup()
; hangup
exten => h,1,AGI(agi://127.0.0.1:4577/call_log--HVcauses--PRI-----NODEBUG-----${HANGUPCAUSE}-----${DIALSTATUS}-----${DIALEDTIME}-----${ANSWEREDTIME})


; SwahiliL31
[SwahiliL31]
exten => s,1,Answer
exten => s,n,AGI(agi-VDAD_inbound_calltime_check.agi,CALLMENU-----YES-----SwahiliL31-------------------------NO)
exten => s,n,Set(INVCOUNT=0) 
exten => s,n,Background(Swahili3_1)
exten => s,n,WaitExten(10)


exten => t,1,Goto(s,4)
exten => t,n,Hangup()
exten => i,1,Goto(s,4)
exten => i,n,Hangup()
; hangup
exten => h,1,AGI(agi://127.0.0.1:4577/call_log--HVcauses--PRI-----NODEBUG-----${HANGUPCAUSE}-----${DIALSTATUS}-----${DIALEDTIME}-----${ANSWEREDTIME})


; SwahiliL32
[SwahiliL32]
exten => s,1,Answer
exten => s,n,AGI(agi-VDAD_inbound_calltime_check.agi,CALLMENU-----YES-----SwahiliL32-------------------------NO)
exten => s,n,Set(INVCOUNT=0) 
exten => s,n,Background(Swahili3_2)
exten => s,n,WaitExten(10)


exten => t,1,Goto(s,4)
exten => t,n,Hangup()
exten => i,1,Goto(s,4)
exten => i,n,Hangup()
; hangup
exten => h,1,AGI(agi://127.0.0.1:4577/call_log--HVcauses--PRI-----NODEBUG-----${HANGUPCAUSE}-----${DIALSTATUS}-----${DIALEDTIME}-----${ANSWEREDTIME})


; SwahiliL33
[SwahiliL33]
exten => s,1,Answer
exten => s,n,AGI(agi-VDAD_inbound_calltime_check.agi,CALLMENU-----YES-----SwahiliL33-------------------------NO)
exten => s,n,Set(INVCOUNT=0) 
exten => s,n,Background(Swahili3_3)
exten => s,n,WaitExten(10)


exten => t,1,Goto(s,4)
exten => t,n,Hangup()
exten => i,1,Goto(s,4)
exten => i,n,Hangup()
; hangup
exten => h,1,AGI(agi://127.0.0.1:4577/call_log--HVcauses--PRI-----NODEBUG-----${HANGUPCAUSE}-----${DIALSTATUS}-----${DIALEDTIME}-----${ANSWEREDTIME})


; TshilubaL2
[Tshiluba]
exten => s,1,Answer
exten => s,n,AGI(agi-VDAD_inbound_calltime_check.agi,CALLMENU-----YES-----Tshiluba-------------------------NO)
exten => s,n,Set(INVCOUNT=0) 
exten => s,n,Background(Tshiluba_level_2)
exten => s,n,WaitExten(10)

exten => 1,1,Goto(TshilubaL31,s,1)
exten => 1,2,Hangup()
exten => 2,1,Goto(TshilubaL32,s,1)
exten => 2,2,Hangup()
exten => 3,1,Goto(TshilubaL33,s,1)
exten => 3,2,Hangup()
exten => 4,1,AGI(agi-VDAD_ALL_inbound.agi,CID-----LB-----Tshiluba-----Tshiluba--------------------998-----1-----TESTCAMP------------------------------)
exten => 4,2,Hangup()

exten => t,1,Goto(s,4)
exten => t,n,Hangup()
exten => i,1,Goto(s,4)
exten => i,n,Hangup()
; hangup
exten => h,1,AGI(agi://127.0.0.1:4577/call_log--HVcauses--PRI-----NODEBUG-----${HANGUPCAUSE}-----${DIALSTATUS}-----${DIALEDTIME}-----${ANSWEREDTIME})


; TshilubaL31
[TshilubaL31]
exten => s,1,Answer
exten => s,n,AGI(agi-VDAD_inbound_calltime_check.agi,CALLMENU-----YES-----TshilubaL31-------------------------NO)
exten => s,n,Set(INVCOUNT=0) 
exten => s,n,Background(Tshiluba3_1)
exten => s,n,WaitExten(10)


exten => t,1,Goto(s,4)
exten => t,n,Hangup()
exten => i,1,Goto(s,4)
exten => i,n,Hangup()
; hangup
exten => h,1,AGI(agi://127.0.0.1:4577/call_log--HVcauses--PRI-----NODEBUG-----${HANGUPCAUSE}-----${DIALSTATUS}-----${DIALEDTIME}-----${ANSWEREDTIME})


; TshilubaL32
[TshilubaL32]
exten => s,1,Answer
exten => s,n,AGI(agi-VDAD_inbound_calltime_check.agi,CALLMENU-----YES-----TshilubaL32-------------------------NO)
exten => s,n,Set(INVCOUNT=0) 
exten => s,n,Background(Tshiluba3_2)
exten => s,n,WaitExten(10)


exten => t,1,Goto(s,4)
exten => t,n,Hangup()
exten => i,1,Goto(s,4)
exten => i,n,Hangup()
; hangup
exten => h,1,AGI(agi://127.0.0.1:4577/call_log--HVcauses--PRI-----NODEBUG-----${HANGUPCAUSE}-----${DIALSTATUS}-----${DIALEDTIME}-----${ANSWEREDTIME})


; TshilubaL33
[TshilubaL33]
exten => s,1,Answer
exten => s,n,AGI(agi-VDAD_inbound_calltime_check.agi,CALLMENU-----YES-----TshilubaL33-------------------------NO)
exten => s,n,Set(INVCOUNT=0) 
exten => s,n,Background(Tshiluba3_3)
exten => s,n,WaitExten(10)


exten => t,1,Goto(s,4)
exten => t,n,Hangup()
exten => i,1,Goto(s,4)
exten => i,n,Hangup()
; hangup
exten => h,1,AGI(agi://127.0.0.1:4577/call_log--HVcauses--PRI-----NODEBUG-----${HANGUPCAUSE}-----${DIALSTATUS}-----${DIALEDTIME}-----${ANSWEREDTIME})



[vicidial-auto-external]
exten => h,1,AGI(agi://127.0.0.1:4577/call_log--HVcauses--PRI-----NODEBUG-----${HANGUPCAUSE}-----${DIALSTATUS}-----${DIALEDTIME}-----${ANSWEREDTIME})

; Local Server: 192.168.1.120
exten => _192*168*001*120*.,1,Goto(default,${EXTEN:16},1)
exten => _192*168*001*120*.,2,Hangup()
exten => _**192*168*001*120*.,1,Goto(default,${EXTEN:18},1)
exten => _**192*168*001*120*.,2,Hangup()

; Agent session audio playback meetme entry
exten => _473782178600XXX,1,Meetme(${EXTEN:8},q)
exten => _473782178600XXX,n,Hangup()
; Agent session audio playback loop
exten => _473782168600XXX,1,Dial(${TRUNKplay}/47378217${EXTEN:8},5,To)
exten => _473782168600XXX,n,Hangup()
; Agent session audio playback extension
exten => 473782158521111,1,Answer
exten => 473782158521111,n,ControlPlayback(${CALLERID(name)},99999,0,1,2,3,4)
exten => 473782158521111,n,Hangup()
; SendDTMF to playback channel to control it
exten => _473782148521111.,1,Answer
exten => _473782148521111.,n,SendDTMF(${CALLERID(num)},250,250,IAX2/ASTplay-${EXTEN:15})
exten => _473782148521111.,n,Hangup()
; Silent wait channel for DTMFsend
exten => 473782138521111,1,Answer
exten => 473782138521111,n,Wait(5)
exten => 473782138521111,n,Hangup()
; Whisper to agent meetme entry
exten => _473782188600XXX,1,Answer
exten => _473782188600XXX,n,Wait(1)
exten => _473782188600XXX,n,AGI(getAGENTchannel.agi)
exten => _473782188600XXX,n,NoOp(${agent_zap_channel})
exten => _473782188600XXX,n,GotoIf($[ "${agent_zap_channel}" = "101" ]?fin)
exten => _473782188600XXX,n,ChanSpy(${agent_zap_channel},qw)
exten => _473782188600XXX,n(fin),Hangup()
; VICIDIAL Carrier: Airtel - Airtel SIP
exten => _989989.,1,AGI(agi://127.0.0.1:4577/call_log)
exten => _989989.,n,Set(CALLERID(num)=0996040030)
exten => _989989.,n,Dial(SIP/${EXTEN:6}@Airtel,,tTor)
exten => _989989.,n,Hangup

[vicidial-auto-internal]
exten => h,1,AGI(agi://127.0.0.1:4577/call_log--HVcauses--PRI-----NODEBUG-----${HANGUPCAUSE}-----${DIALSTATUS}-----${DIALEDTIME}-----${ANSWEREDTIME})
; Voicemail Extensions:
exten => _85026666666666.,1,Wait(1)
exten => _85026666666666.,n,Voicemail(${EXTEN:14},u)
exten => _85026666666666.,n,Hangup()
exten => _85026666666667.,1,Wait(1)
exten => _85026666666667.,n,Voicemail(${EXTEN:14},su)
exten => _85026666666667.,n,Hangup()
exten => 8500,1,VoicemailMain
exten => 8500,2,Goto(s,6)
exten => 8500,3,Hangup()
exten => 8501,1,VoicemailMain(s${CALLERID(num)})
exten => 8501,2,Hangup()

; Prompt Extensions:
exten => 8167,1,Answer
exten => 8167,2,AGI(agi-record_prompts.agi,wav-----720000)
exten => 8167,3,Hangup()
exten => 8168,1,Answer
exten => 8168,2,AGI(agi-record_prompts.agi,gsm-----720000)
exten => 8168,3,Hangup()

; this is used for recording conference calls, the client app sends the filename
;    value as a callerID recordings go to /var/spool/asterisk/monitor (WAV)
;    Recording is limited to 1 hour, to make longer, just change the server
;    setting ViciDial Recording Limit
;     this is the WAV verison, default
exten => 8309,1,Answer
exten => 8309,2,Monitor(wav,${CALLERID(name)})
exten => 8309,3,Wait(3600)
exten => 8309,4,Hangup()
;     this is the GSM verison
exten => 8310,1,Answer
exten => 8310,2,Monitor(gsm,${CALLERID(name)})
exten => 8310,3,Wait(3600)
exten => 8310,4,Hangup()

;     agent alert extension
exten => 83047777777777,1,Answer
exten => 83047777777777,2,Playback(${CALLERID(name)})
exten => 83047777777777,3,Hangup()
; This is a loopback dial-around to allow for immediate answer of outbound calls
exten => _8305888888888888.,1,Answer
exten => _8305888888888888.,n,Wait(${EXTEN:16:1})
exten => _8305888888888888.,n,Dial(${TRUNKloop}/${EXTEN:17},,To)
exten => _8305888888888888.,n,Hangup()
; No-call silence extension
exten => _8305888888888888X999,1,Answer
exten => _8305888888888888X999,n,Wait(3600)
exten => _8305888888888888X999,n,Hangup()
; In-Group Ask-Post-Call Survey AGI
exten => _8306888888888888X999,1,Answer
exten => _8306888888888888X999,n,AGI(agi-ingroup_survey.agi)
exten => _8306888888888888X999,n,Hangup()

[vicidial-auto-phones]
exten => h,1,AGI(agi://127.0.0.1:4577/call_log--HVcauses--PRI-----NODEBUG-----${HANGUPCAUSE}-----${DIALSTATUS}-----${DIALEDTIME}-----${ANSWEREDTIME})

; Phones direct dial extensions:
exten => 8021,1,Dial(IAX2/8021,60,)
exten => 8021,2,Goto(default,850266666666668021,1)
exten => 8021,3,Hangup()
exten => 7001,1,Dial(SIP/7001,60,)
exten => 7001,2,Goto(default,850266666666667001,1)
exten => 7001,3,Hangup()
exten => 8001,1,Dial(SIP/8001,60,)
exten => 8001,2,Goto(default,850266666666668001,1)
exten => 8001,3,Hangup()
exten => 8002,1,Dial(SIP/8002,60,)
exten => 8002,2,Goto(default,850266666666668002,1)
exten => 8002,3,Hangup()
exten => 8003,1,Dial(SIP/8003,60,)
exten => 8003,2,Goto(default,850266666666668003,1)
exten => 8003,3,Hangup()
exten => 8004,1,Dial(SIP/8004,60,)
exten => 8004,2,Goto(default,850266666666668004,1)
exten => 8004,3,Hangup()
exten => 8005,1,Dial(SIP/8005,60,)
exten => 8005,2,Goto(default,850266666666668005,1)
exten => 8005,3,Hangup()
exten => 8006,1,Dial(SIP/8006,60,)
exten => 8006,2,Goto(default,850266666666668006,1)
exten => 8006,3,Hangup()
exten => 8007,1,Dial(SIP/8007,60,)
exten => 8007,2,Goto(default,850266666666668007,1)
exten => 8007,3,Hangup()
exten => 8008,1,Dial(SIP/8008,60,)
exten => 8008,2,Goto(default,850266666666668008,1)
exten => 8008,3,Hangup()
exten => 8009,1,Dial(SIP/8009,60,)
exten => 8009,2,Goto(default,850266666666668009,1)
exten => 8009,3,Hangup()
exten => 8010,1,Dial(SIP/8010,60,)
exten => 8010,2,Goto(default,850266666666668010,1)
exten => 8010,3,Hangup()
exten => 8011,1,Dial(SIP/8011,60,)
exten => 8011,2,Goto(default,850266666666668011,1)
exten => 8011,3,Hangup()
exten => 8012,1,Dial(SIP/8012,60,)
exten => 8012,2,Goto(default,850266666666668012,1)
exten => 8012,3,Hangup()
exten => 8013,1,Dial(SIP/8013,60,)
exten => 8013,2,Goto(default,850266666666668013,1)
exten => 8013,3,Hangup()
exten => 8014,1,Dial(SIP/8014,60,)
exten => 8014,2,Goto(default,850266666666668014,1)
exten => 8014,3,Hangup()
exten => 8015,1,Dial(SIP/8015,60,)
exten => 8015,2,Goto(default,850266666666668015,1)
exten => 8015,3,Hangup()
exten => 8016,1,Dial(SIP/8016,60,)
exten => 8016,2,Goto(default,850266666666668016,1)
exten => 8016,3,Hangup()
exten => 8017,1,Dial(SIP/8017,60,)
exten => 8017,2,Goto(default,850266666666668017,1)
exten => 8017,3,Hangup()
exten => 8018,1,Dial(SIP/8018,60,)
exten => 8018,2,Goto(default,850266666666668018,1)
exten => 8018,3,Hangup()
exten => 8019,1,Dial(SIP/8019,60,)
exten => 8019,2,Goto(default,850266666666668019,1)
exten => 8019,3,Hangup()
exten => 8020,1,Dial(SIP/8020,60,)
exten => 8020,2,Goto(default,850266666666668020,1)
exten => 8020,3,Hangup()
exten => 102,1,Dial(SIP/gs102,60,)
exten => 102,2,Goto(default,85026666666666102,1)
exten => 102,3,Hangup()

[vicidial-auto]
exten => h,1,AGI(agi://127.0.0.1:4577/call_log--HVcauses--PRI-----NODEBUG-----${HANGUPCAUSE}-----${DIALSTATUS}-----${DIALEDTIME}-----${ANSWEREDTIME})

include => vicidial-auto-internal
include => vicidial-auto-phones
include => vicidial-auto-external


; END OF FILE    Last Forced System Reload: 2018-04-05 14:29:49
